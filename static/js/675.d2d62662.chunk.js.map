{"version":3,"file":"static/js/675.d2d62662.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/NewsDetailsPage/NewsDetailsPage.module.css?899a","pages/NewsDetailsPage/date.js","pages/NewsDetailsPage/NewsDetailsPage.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"NewsDetailsPage_main__HUVny\",\"article\":\"NewsDetailsPage_article__mDx+k\",\"backLink\":\"NewsDetailsPage_backLink__q+pcB\"};","export const extractDate = (date) => {\n    const year = date.slice(0, 4)\n    const day = date.slice(8, 10)\n    const month = toMonth(date.slice(5, 7))\n    const time = date.slice(12, 16)\n    return day+' '+month+' '+year+'  '+time\n}\n\nconst toMonth = (month) => {\n    switch (month) {\n        case '01':\n            return 'Styczeń'\n        case '02':\n            return 'Luty'\n        case '03':\n            return 'Marzec'\n        case '04':\n            return 'Kwiecień'\n        case '05':\n            return 'Maj'\n        case '06':\n            return 'Czerwiec'\n        case '07':\n            return 'Lipiec'\n        case '08':\n            return 'Sierpień'\n        case '09':\n            return 'Wrzesień'\n        case '10':\n            return 'Październik'\n        case '11':\n            return 'Listopad'\n        case '12':\n            return 'Grudzień'\n        default:\n            return ''\n    }\n}","import React, { useEffect, useRef, useState } from 'react'\nimport { Link, useLocation, useParams } from 'react-router-dom'\nimport css from './NewsDetailsPage.module.css'\nimport { extractDate } from './date'\n\nconst NewsDetailsPage = () => {\n  const { newsId } = useParams()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const [news, setNews] = useState([]);\n\n  const apiUrl = 'https://api-eu-central-1-shared-euc1-02.hygraph.com/v2/clr82i1dt043r01wadskebz7p/master';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true)\n        const response = await fetch(apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            query: `\n              query News {\n                news(where: {id: \"${newsId}\"}) {\n                  content {\n                    html\n                  }\n                  page\n                  publishedAt\n                  title\n                  id\n                }\n              }\n            `,\n          }),\n        })\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const result = await response.json();\n        setNews(result.data.news);\n      } catch (error) {\n        setError('Error fetching data. Please check the console for details.');\n      } finally {\n        setLoading(false)\n      }\n    };\n\n    fetchData();\n  }, [newsId]);\n\n  const location = useLocation()\n  const backLink = useRef(location.state?.from ?? '/')\n  console.log('komunikat', news)\n  return (\n    <>\n      {loading && <p>Ładowanie...</p>}\n      {error && <p>Coś poszło nie tak...</p>}\n        <main className={css.main}>\n        <Link to={backLink.current} className={css.backLink}>\n          <button>\n            Powrót\n          </button>\n        </Link>\n      <article className={css.article}>\n        <h1>{news.title}</h1>\n        <hr />\n        <time dateTime={news.publishedAt}>{news.publishedAt && extractDate(news.publishedAt)}</time>\n        <hr />\n        <div dangerouslySetInnerHTML={{ __html: news.content?.html }} ></div>\n      </article>\n    </main >\n  </>\n  )\n}\n\nexport default NewsDetailsPage","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["extractDate","date","year","slice","toMonth","month","_location$state$from","_location$state","_news$content","newsId","useParams","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","news","setNews","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","result","_context","prev","next","fetch","method","headers","body","JSON","stringify","query","concat","sent","ok","Error","status","json","data","t0","finish","stop","apply","arguments","location","useLocation","backLink","useRef","state","from","console","log","_jsxs","_Fragment","children","_jsx","className","css","Link","to","current","title","dateTime","publishedAt","dangerouslySetInnerHTML","__html","content","html","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}